<app-side-navigator-bar></app-side-navigator-bar>

<div class="container">
  <h1>Collaborators</h1>

  <div class="encargado-container">
    <!-- Encargado del restaurante (estático) -->
    <div class="card">
      <img src="assets/images/chef.png" alt="Encargado">
      <div>
        <p>Name: {{ encargado.nombre }}</p>
        <p>Email: {{ encargado.email }}</p>
        <p>Phone: {{ encargado.celular }}</p>
      </div>
    </div>

    <!-- Botón para enviar invitación -->
    <div class="invitation-section">
      <p>Do you want to add a new member?</p>
      <button (click)="abrirFormulario()">Send invitation</button>
    </div>
  </div>

  <!-- Modal para enviar invitación -->
  <div *ngIf="mostrarFormulario" class="modal">
    <div class="modal-content">
      <span (click)="cerrarFormulario()" class="close">&times;</span>
      <form (submit)="enviarInvitacion()">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" [(ngModel)]="nuevoMiembro.email" required>

        <label for="rol">Role:</label>
        <select id="rol" name="rol" [(ngModel)]="nuevoMiembro.rol" required>
          <option value="restaurante">Restaurant staff</option>
          <option value="mantenimiento">Maintenance staff</option>
        </select>

        <button type="submit">Send invitation</button>
      </form>
    </div>
  </div>

  <!-- Mensaje de confirmación de solicitud (alerta emergente) -->
  <div class="alert" [ngClass]="{ 'show': mostrarConfirmacion }">
    Request sent.
  </div>

  <h2>Authorized restaurant staff</h2>
  <div class="personal-section">
    <div class="card" *ngFor="let miembro of personalRestaurante">
      <img src="assets/images/mesera.png" alt="{{ miembro.nombre }}">
      <div>
        <p>Name: {{ miembro.nombre }}</p>
        <p>Email: {{ miembro.email }}</p>
        <p>Phone: {{ miembro.celular }}</p>
        <p>Status: <span class="estado-pendiente">Grade</span></p>
      </div>
    </div>
  </div>

  <h2>Authorized maintenance personnel</h2>
  <div class="personal-section">
    <div class="card" *ngFor="let miembro of personalMantenimiento">
      <img src="assets/images/tecnico.png" alt="{{ miembro.nombre }}">
      <div>
        <p>Name: {{ miembro.nombre }}</p>
        <p>Email: {{ miembro.email }}</p>
        <p>Phone: {{ miembro.celular }}</p>
        <p>Status: <span class="estado-pendiente">Grade</span></p>
      </div>
    </div>
  </div>
